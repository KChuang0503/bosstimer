# 救世主之樹M Boss 重生計時器

一個專為救世主之樹M設計的 Boss 重生時間追蹤工具，支援多個計時器同時運行，並提供音效提醒、瀏覽器通知功能和**全球實時同步**。

## 功能特色

### 🎯 核心功能
- **多章節支援**：支援第七章到第十章的 Boss 地圖
- **多計時器管理**：可同時追蹤多個 Boss 的重生時間
- **精確計時**：支援小時、分鐘、秒數的精確設定
- **分流選擇**：支援 9 個不同分流的 Boss 追蹤

### 🔔 提醒功能
- **瀏覽器通知**：計時結束時顯示桌面通知
- **音效提醒**：可自訂音量的提示音效
- **視覺警告**：最後 10 秒的閃爍警告效果
- **進度條**：即時顯示計時進度

### 🎮 操作功能
- **暫停/繼續**：可隨時暫停或繼續計時器
- **個別移除**：可單獨移除不需要的計時器
- **一鍵重置**：快速重置所有設定
- **重複檢查**：防止新增相同章節、地圖、分流的計時器
- **自動滾動**：重複警告時自動滾動到已存在的計時器
- **鍵盤快捷鍵**：支援 ESC 鍵快速重置

### 🌍 全球同步功能
- **實時同步**：多個用戶同時查看相同的計時器
- **房間分享**：生成分享連結，朋友點擊即可加入
- **即時更新**：任何操作都會即時同步給所有用戶
- **用戶狀態**：顯示房間內在線用戶數量
- **自動重連**：網絡中斷時自動重新連接
- **匿名登入**：無需註冊，自動分配用戶ID

## 支援的地圖

### 第七章
- 扎卡里耶爾交叉路
- 王陵一層
- 王陵二層
- 王陵三層

### 第八章
- 水路橋地區
- 阿雷魯諾男爵領
- 魔族收監所第一區
- 魔族收監所第三區
- 魔族收監所第四區
- 魔族收監所第五區

### 第九章
- 女神的古院
- 佩迪米安外城
- 魔法師之塔一層
- 魔法師之塔二層
- 魔法師之塔三層

### 第十章
- 大教堂懺悔路
- 大教堂正殿
- 大教堂大迴廊
- 大教堂至聖所

## 使用方式

### 基本操作
1. **選擇章節**：從下拉選單選擇要追蹤的章節
2. **選擇地圖**：選擇具體的 Boss 地圖
3. **選擇分流**：選擇對應的遊戲分流
4. **設定時間**：輸入 Boss 的重生時間（小時、分鐘、秒數）
5. **新增計時器**：點擊「新增計時器」開始追蹤

### 進階功能
- **音量控制**：使用滑桿調整提示音音量
- **靜音功能**：點擊喇叭圖示切換靜音
- **計時器管理**：在右側面板查看和管理所有進行中的計時器
- **暫停/繼續**：點擊計時器上的「暫停/繼續」按鈕
- **移除計時器**：點擊「移除」按鈕刪除不需要的計時器
- **重複檢測**：系統會自動檢測並阻止新增重複的計時器
- **智能提醒**：重複時會高亮顯示已存在的計時器並自動滾動到可見位置

### 同步功能使用
1. **創建房間**：添加計時器後點擊「🔗 生成分享連結」
2. **分享連結**：複製生成的連結分享給朋友
3. **加入房間**：朋友點擊連結自動加入並同步計時器
4. **實時同步**：所有操作都會即時同步給房間內所有用戶
5. **停止同步**：點擊「停止同步」按鈕退出房間

### 快捷鍵
- `ESC`：重置所有設定

## 技術規格

### 前端技術
- **HTML5**：語義化標記
- **CSS3**：現代化樣式設計，支援響應式布局
- **JavaScript ES6+**：原生 JavaScript，無外部依賴
- **Web APIs**：使用 Notification API 和 Web Audio API
- **Firebase**：Realtime Database 和 Authentication 服務

### 瀏覽器支援
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

### 特色技術
- **精確計時**：使用 `Date.now()` 確保計時準確性
- **暫停補償**：自動計算暫停時間，確保總計時準確
- **記憶體管理**：自動清理完成的計時器，避免記憶體洩漏
- **重複檢查**：智能檢測相同章節、地圖、分流組合
- **自動滾動**：使用 `scrollTo` API 實現平滑滾動效果
- **響應式設計**：支援桌面和行動裝置

## 開發說明

### 專案結構
```
bosstimer/
├── index.html              # 主頁面
├── script.js               # JavaScript 邏輯
├── style.css               # 樣式表
├── firebase-config.js      # Firebase 配置（不包含在 Git 中）
├── firebase-config.example.js # Firebase 配置示例
├── README.md               # 專案說明
├── LICENSE                 # 授權條款
├── FIREBASE_SETUP.md       # Firebase 設置說明
├── SETUP.md                # 部署設置說明
├── DEMO.md                 # 功能演示說明
├── .gitignore              # Git 忽略檔案
└── test.html               # 測試頁面
```

### 快速開始

#### 方法 1：直接使用（推薦）
🌐 **線上版本**：直接訪問 GitHub Pages 部署的版本
- 無需本地設置，開箱即用
- 所有功能都已配置完成

#### 方法 2：本地開發
1. **克隆專案**
   ```bash
   git clone https://github.com/yourusername/bosstimer.git
   cd bosstimer
   ```

2. **設置 Firebase 配置**
   ```bash
   cp firebase-config.example.js firebase-config.js
   # 編輯 firebase-config.js 填入您的 Firebase 配置
   ```

3. **啟動本地服務器**
   ```bash
   python -m http.server 8000
   # 或使用 npx http-server
   ```

4. **訪問應用程式**
   - 在瀏覽器中打開 `http://localhost:8000`

#### 方法 3：GitHub Pages 部署
請參考 [GITHUB_PAGES_DEPLOY.md](GITHUB_PAGES_DEPLOY.md) 獲取詳細的部署說明。

詳細設置說明請參考 [SETUP.md](SETUP.md)

### 核心類別
- `BossTimer`：主要計時器管理類別
- 支援多個計時器實例同時運行
- 自動記憶體管理和清理

## 授權條款

本專案採用 MIT 授權條款。詳見 [LICENSE](LICENSE) 檔案。

## 更新日誌

### v2.0.0 - 全球同步版本
- **🌍 全球同步功能**：使用 Firebase Realtime Database 實現多用戶實時同步
- **🔗 房間分享**：生成分享連結，朋友點擊即可加入房間
- **👥 用戶狀態**：顯示房間內在線用戶數量和同步狀態
- **⚡ 即時更新**：所有操作都會即時同步給房間內所有用戶
- **🔐 匿名認證**：無需註冊，自動分配用戶ID
- **🔄 自動重連**：網絡中斷時自動重新連接
- **📱 移動支援**：完美支援手機和平板設備

### v1.1.0
- **重複檢查功能**：防止新增相同章節、地圖、分流的計時器
- **自動滾動**：重複警告時自動滾動到已存在的計時器位置
- **視覺警告**：重複時高亮顯示已存在的計時器
- **音效提醒**：重複時播放警告音效
- **智能檢測**：優化重複檢測邏輯和用戶體驗

### v1.0.0
- 初始版本發布
- 支援多章節 Boss 追蹤
- 音效和通知提醒功能
- 響應式設計

---

**注意**：本工具僅供遊戲輔助使用，請遵守遊戲相關規定。
